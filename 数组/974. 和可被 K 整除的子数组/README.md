#### [974. 和可被 K 整除的子数组](https://leetcode-cn.com/problems/subarray-sums-divisible-by-k/)

给定一个整数数组 `A`，返回其中元素之和可被 `K` 整除的（连续、非空）子数组的数目。

**示例：**

```go
输入：A = [4,5,0,-2,-3,1], K = 5
输出：7
解释：
有 7 个子数组满足其元素之和可被 K = 5 整除：
[4, 5, 0, -2, -3, 1], [5], [5, 0], [5, 0, -2, -3], [0], [0, -2, -3], [-2, -3]
```

**提示：**

1. `1 <= A.length <= 30000`
2. `-10000 <= A[i] <= 10000`
3. `2 <= K <= 10000`

----

### 前缀和+哈希表

![img](https://assets.leetcode-cn.com/solution-static/560/9.PNG)

如图，使用一个哈希表，记录前缀和出现的次数。

> 这题是这样的，给定一个整数数组和一个整数 **k，**你需要找到该数组中和为 **k** 的连续的子数组的个数。

$pre[i]−pre[j−1]==k$

简单移项可得符合条件的下标 $j$， 需要满足

$pre[j−1]==pre[i]−k$

比如，前缀和是20，即，$i=7$,我们需要寻找 $20-7=13$的前缀和，也就是$j=5$，并统计在$i$之前出现了几次。

> 即，在`前缀和是13`~`前缀和是20`之间的子数组,其满足题目的要求。

这，也就把寻找$[i,j]$之和，转换成了寻找前缀和的数值以及出现的次数了。